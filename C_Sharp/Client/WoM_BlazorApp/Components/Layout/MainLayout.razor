@inherits LayoutComponentBase

@using Microsoft.AspNetCore.Components.Authorization
@using WoM_BlazorApp.Services.Implementation
@using WoM_BlazorApp.Components.Layout


@* CascadingAuthenticationState belongs in Routes.razor *@
<div class="page">
    <div class="sidebar border-end">
        <NavMenu />
    </div>

    <main class="main">
        <div class="top-row px-4">
            <span class="fw-bold">Way Of Milk – Blazor</span>
            <AuthorizeView>
                <Authorized>
                    <span class="small ms-auto">Logged in as @context.User.Identity?.Name</span>
                </Authorized>
                <NotAuthorized>
                    <span class="small ms-auto">Guest</span>
                </NotAuthorized>
            </AuthorizeView>
        </div>

        <article class="content px-4 py-3">
            @Body
        </article>
    </main>
</div>

<style>
    .page { display:flex; min-height:100vh; }
    .sidebar { width:220px; }
    .main { flex:1; display:flex; flex-direction:column; }
    .top-row { border-bottom:1px solid #ddd; height:56px;
               display:flex; align-items:center; justify-content:space-between; }
    .content { flex:1; }
</style>
